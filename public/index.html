<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>TARBOO API Hub</title>
  <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css">
  <script src="https://unpkg.com/gsap@3.12.2/dist/gsap.min.js"></script>
  <style>
    @import url('https://fonts.googleapis.com/css2?family=Tajawal:wght@300;500;700;800&display=swap');
    :root { --primary: #4A00E0; --secondary: #8E2DE2; --accent: #00CDAC; --dark: #0F0A31; --darker: #090520; }
    * {margin:0;padding:0;box-sizing:border-box;font-family:'Tajawal',sans-serif;}
    body {background:linear-gradient(135deg,var(--darker),var(--dark));color:#fff;min-height:100vh;overflow-x:hidden;position:relative;}
    body::before {content:'';position:fixed;top:0;left:0;width:100%;height:100%;
      background:radial-gradient(circle at 10% 20%,rgba(74,0,224,0.2) 0%,transparent 20%),
        radial-gradient(circle at 90% 80%,rgba(142,45,226,0.2) 0%,transparent 20%),
        radial-gradient(circle at 50% 50%,rgba(0,205,172,0.1) 0%,transparent 30%);z-index:-1;}
    .splash-screen {position:fixed;width:100vw;height:100vh;background:var(--darker);color:#fff;z-index:9999;display:flex;align-items:center;justify-content:center;flex-direction:column;gap:20px;}
    .logo {width:150px;height:150px;border-radius:50%;object-fit:cover;border:5px solid rgba(255,255,255,0.1);box-shadow:0 0 30px rgba(79,70,229,0.7);margin-bottom:20px;animation:pulse 2s infinite alternate;}
    @keyframes pulse {0%{transform:scale(1);box-shadow:0 0 30px rgba(79,70,229,0.7);}100%{transform:scale(1.05);box-shadow:0 0 50px rgba(79,70,229,0.9);}}
    .glow-title {text-shadow:0 0 15px #fff,0 0 30px var(--primary),0 0 45px var(--primary);animation:glow 1.5s infinite alternate;}
    @keyframes glow {from{text-shadow:0 0 10px #fff,0 0 20px var(--primary);}to{text-shadow:0 0 20px #fff,0 0 40px var(--secondary);}}
    .gradient-text {background:linear-gradient(90deg,#8E2DE2,#4A00E0,#00CDAC);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-size:300% 300%;animation:gradientMove 8s ease infinite;}
    @keyframes gradientMove {0%{background-position:0% 50%;}50%{background-position:100% 50%;}100%{background-position:0% 50%;}}
    .btn-primary {position:relative;display:inline-block;padding:12px 36px;font-size:1rem;font-weight:700;color:#fff;text-transform:uppercase;letter-spacing:1px;border:none;border-radius:9999px;background:linear-gradient(270deg,var(--primary),var(--secondary),#FF9068,var(--accent));background-size:800% 800%;animation:gradientMove 8s ease infinite;box-shadow:0 4px 15px rgba(79,70,229,0.6);transition:transform 0.3s ease,box-shadow 0.3s ease;cursor:pointer;overflow:hidden;}
    .btn-primary::before {content:'';position:absolute;top:-50%;left:-50%;right:-50%;bottom:-50%;background:radial-gradient(circle at center,rgba(255,255,255,0.3),transparent 70%);opacity:0;transition:opacity 0.4s ease;}
    .btn-primary:hover::before {opacity:1;}
    .btn-primary:hover {transform:scale(1.05);box-shadow:0 6px 25px rgba(79,70,229,0.8);}
    .glass-card {background:rgba(255,255,255,0.08);backdrop-filter:blur(12px);border-radius:16px;border:1px solid rgba(255,255,255,0.1);box-shadow:0 8px 32px rgba(0,0,0,0.3);transition:all 0.3s ease;}
    .glass-card:hover {transform:translateY(-10px);box-shadow:0 12px 40px rgba(0,0,0,0.5);border-color:rgba(255,255,255,0.2);}
    .api-type-btn {position:relative;display:block;padding:1.5rem;font-size:1.1rem;font-weight:700;text-align:center;color:#fff;text-decoration:none;border-radius:1rem;background:rgba(255,255,255,0.1);backdrop-filter:blur(10px);border:1px solid rgba(255,255,255,0.3);box-shadow:0 4px 20px rgba(0,0,0,0.5);overflow:hidden;transition:transform 0.3s ease,box-shadow 0.3s ease;}
    .api-type-btn::after {content:'';position:absolute;top:0;left:0;right:0;bottom:0;background:linear-gradient(45deg,rgba(74,0,224,0.5),rgba(142,45,226,0.5));background-size:200% 200%;animation:gradientMove 5s ease infinite;opacity:0;transition:opacity 0.4s ease;z-index:0;}
    .api-type-btn:hover::after {opacity:1;}
    .api-type-btn span {position:relative;z-index:1;}
    .api-type-btn:hover {transform:scale(1.05);box-shadow:0 8px 30px rgba(59,130,246,0.7);}
    .chat-container {background:rgba(255 255 255 / 0.1);backdrop-filter:blur(14px);border-radius:1rem;box-shadow:0 20px 30px rgba(0,0,0,0.7);color:white;}
    .user-msg {background:linear-gradient(90deg,rgba(37,99,235,0.8),rgba(59,130,246,0.8));margin-left:auto;}
    .bot-msg {background:rgba(31,41,55,0.8);margin-right:auto;}
    .error-msg {background:rgba(185,28,28,0.8);margin-right:auto;}
    .nav-link {position:relative;padding:0.5rem 1rem;transition:all 0.3s ease;}
    .nav-link::after {content:'';position:absolute;bottom:0;left:0;width:0;height:2px;background:linear-gradient(90deg,var(--primary),var(--accent));transition:width 0.3s ease;}
    .nav-link:hover::after {width:100%;}
    .auth-container {max-width:500px;margin:5rem auto;padding:2rem;border-radius:20px;background:rgba(255,255,255,0.05);backdrop-filter:blur(12px);box-shadow:0 15px 35px rgba(0,0,0,0.5);}
    .auth-tabs {display:flex;margin-bottom:2rem;}
    .auth-tab {flex:1;text-align:center;padding:1rem;cursor:pointer;transition:all 0.3s ease;position:relative;}
    .auth-tab.active {background:rgba(74,0,224,0.2);}
    .auth-tab.active::after {content:'';position:absolute;bottom:0;left:50%;transform:translateX(-50%);width:80%;height:3px;background:linear-gradient(90deg,var(--primary),var(--accent));border-radius:3px;}
    .form-input {width:100%;padding:0.75rem 1rem;border-radius:10px;background:rgba(255,255,255,0.08);border:1px solid rgba(255,255,255,0.1);color:white;transition:all 0.3s ease;}
    .form-input:focus {outline:none;border-color:var(--accent);box-shadow:0 0 0 3px rgba(0,205,172,0.3);}
    .api-card {background:rgba(255,255,255,0.05);border-radius:16px;overflow:hidden;transition:all 0.3s ease;border:1px solid rgba(255,255,255,0.1);}
    .api-card:hover {transform:translateY(-5px);box-shadow:0 10px 25px rgba(0,0,0,0.3);border-color:rgba(255,255,255,0.2);}
    .api-card-img {height:180px;background:linear-gradient(45deg,var(--primary),var(--secondary));display:flex;align-items:center;justify-content:center;font-size:3rem;}
    @media (max-width: 768px) {
      .logo {width:120px;height:120px;}
      .auth-container {margin:2rem auto;width:90%;}
      .auth-tabs {flex-direction:column;}
    }
  </style>
</head>
<body>
  <!-- Splash Screen -->
  <div id="splash" class="splash-screen">
    <img src="https://i.ibb.co/0jQ3ZzG/logo.png" alt="TARBOO Logo" class="logo">
    <h1 class="text-4xl font-bold mb-4 glow-title">Ù…Ø±Ø­Ø¨Ù‹Ø§ Ø¨Ùƒ ÙÙŠ TARBOO API ğŸš€</h1>
    <button onclick="enterSite()" class="btn-primary"><span>Ø¯Ø®ÙˆÙ„ Ø§Ù„Ù…ÙˆÙ‚Ø¹</span></button>
  </div>

  <!-- Navigation -->
  <nav class="py-4 px-6 flex justify-between items-center">
    <div class="flex items-center">
      <img src="https://i.ibb.co/0jQ3ZzG/logo.png" alt="TARBOO Logo" class="w-12 h-12 rounded-full mr-3">
      <h1 class="text-2xl font-bold gradient-text">TARBOO API</h1>
    </div>
    <div class="hidden md:flex space-x-6">
      <a href="#" class="nav-link" data-scroll="home">Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©</a>
      <a href="#features" class="nav-link" data-scroll="features">Ø§Ù„Ù…ÙŠØ²Ø§Øª</a>
      <a href="#apis" class="nav-link" data-scroll="apis">ÙˆØ§Ø¬Ù‡Ø§Øª API</a>
      <a href="#contact" class="nav-link" data-scroll="contact">ØªÙˆØ§ØµÙ„ Ù…Ø¹Ù†Ø§</a>
    </div>
    <div class="flex items-center space-x-4">
      <button id="auth-btn" class="text-sm bg-white/10 hover:bg-white/20 py-2 px-4 rounded-full transition">
        <i class="fas fa-user mr-2"></i>ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„
      </button>
    </div>
  </nav>

  <!-- Hero Section -->
  <section class="py-20 px-6 text-center" id="home">
    <div class="max-w-4xl mx-auto">
      <h1 class="text-4xl md:text-6xl font-bold mb-6">
        <span class="gradient-text">TARBOO API</span> Ù…Ø±ÙƒØ² ÙˆØ§Ø¬Ù‡Ø§Øª Ø¨Ø±Ù…Ø¬Ø© Ø§Ù„ØªØ·Ø¨ÙŠÙ‚Ø§Øª
      </h1>
      <p class="text-xl text-gray-300 mb-10 max-w-2xl mx-auto">
        Ø§Ø³ØªÙƒØ´Ù Ù…Ø¬Ù…ÙˆØ¹Ø© ÙˆØ§Ø³Ø¹Ø© Ù…Ù† ÙˆØ§Ø¬Ù‡Ø§Øª Ø¨Ø±Ù…Ø¬Ø© Ø§Ù„ØªØ·Ø¨ÙŠÙ‚Ø§Øª Ø§Ù„Ù‚ÙˆÙŠØ© Ø§Ù„ØªÙŠ ØªÙˆÙØ± Ø­Ù„ÙˆÙ„Ø§Ù‹ Ù…ØªÙ‚Ø¯Ù…Ø© Ù„Ù…Ø´Ø§Ø±ÙŠØ¹Ùƒ Ø§Ù„ØªÙ‚Ù†ÙŠØ©
      </p>
      <div class="flex flex-wrap justify-center gap-4">
        <button class="btn-primary" id="scroll-to-apis">
          <i class="fas fa-rocket mr-2"></i>Ø§Ø¨Ø¯Ø£ Ø§Ù„Ø¢Ù†
        </button>
        <button class="py-3 px-6 bg-white/10 hover:bg-white/20 rounded-full transition" id="docs-btn">
          <i class="fas fa-book mr-2"></i>ØªØµÙØ­ Ø§Ù„ÙˆØ«Ø§Ø¦Ù‚
        </button>
      </div>
    </div>
  </section>

  <!-- API Types Section -->
  <section id="apis" class="py-16 px-6 bg-gradient-to-b from-transparent to-[#0f0a3180]">
    <div class="max-w-6xl mx-auto">
      <div class="text-center mb-16">
        <h2 class="text-3xl md:text-4xl font-bold mb-4 gradient-text">Ø£Ù†ÙˆØ§Ø¹ ÙˆØ§Ø¬Ù‡Ø§Øª API</h2>
        <p class="text-gray-400 max-w-2xl mx-auto">
          Ø§ÙƒØªØ´Ù Ù…Ø¬Ù…ÙˆØ¹ØªÙ†Ø§ Ø§Ù„Ù…ØªÙ†ÙˆØ¹Ø© Ù…Ù† ÙˆØ§Ø¬Ù‡Ø§Øª Ø¨Ø±Ù…Ø¬Ø© Ø§Ù„ØªØ·Ø¨ÙŠÙ‚Ø§Øª Ø§Ù„Ù…ØµÙ…Ù…Ø© Ù„ØªÙ„Ø¨ÙŠØ© Ø§Ø­ØªÙŠØ§Ø¬Ø§Øª Ù…Ø´Ø§Ø±ÙŠØ¹Ùƒ Ø§Ù„Ù…Ø®ØªÙ„ÙØ©
        </p>
      </div>
      <div class="mb-8">
        <div class="relative max-w-2xl mx-auto">
          <input
            type="text"
            id="search-input"
            placeholder="Ø§Ø¨Ø­Ø« Ø¹Ù† API..."
            class="w-full p-4 rounded-full bg-white/10 backdrop-blur-md text-white border border-white/20 focus:outline-none focus:ring-2 focus:ring-purple-500 form-input"
          >
          <i class="fas fa-search absolute left-5 top-1/2 transform -translate-y-1/2 text-white/70"></i>
        </div>
      </div>
      <div id="message" class="text-center text-gray-400 py-10">
        <i class="fas fa-spinner fa-spin text-2xl mb-3"></i>
        <p>Ø¬Ø§Ø±Ù ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª...</p>
      </div>
      <div id="type-container" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6"></div>
    </div>
  </section>

  <!-- Features Section -->
  <section id="features" class="py-20 px-6">
    <div class="max-w-6xl mx-auto">
      <div class="text-center mb-16">
        <h2 class="text-3xl md:text-4xl font-bold mb-4 gradient-text">Ù…Ù…ÙŠØ²Ø§Øª Ù…Ù†ØµØªÙ†Ø§</h2>
        <p class="text-gray-400 max-w-2xl mx-auto">
          Ø§ÙƒØªØ´Ù Ù„Ù…Ø§Ø°Ø§ ÙŠØ®ØªØ§Ø± Ø§Ù„Ù…Ø·ÙˆØ±ÙˆÙ† Ù…Ù†ØµØ© TARBOO API Ù„ØªØ·ÙˆÙŠØ± Ù…Ø´Ø§Ø±ÙŠØ¹Ù‡Ù…
        </p>
      </div>
      <div class="grid grid-cols-1 md:grid-cols-3 gap-8">
        <div class="glass-card p-8">
          <div class="w-16 h-16 rounded-full bg-[#4A00E0] flex items-center justify-center mb-6">
            <i class="fas fa-bolt text-2xl"></i>
          </div>
          <h3 class="text-xl font-bold mb-3">Ø£Ø¯Ø§Ø¡ ÙØ§Ø¦Ù‚ Ø§Ù„Ø³Ø±Ø¹Ø©</h3>
          <p class="text-gray-300">
            ÙˆØ§Ø¬Ù‡Ø§Øª Ø¨Ø±Ù…Ø¬Ø© Ø§Ù„ØªØ·Ø¨ÙŠÙ‚Ø§Øª Ù…ØµÙ…Ù…Ø© Ù„ØªÙ‚Ø¯ÙŠÙ… Ø§Ø³ØªØ¬Ø§Ø¨Ø§Øª ÙØ§Ø¦Ù‚Ø© Ø§Ù„Ø³Ø±Ø¹Ø© Ù…Ø¹ Ø²Ù…Ù† Ø§Ù†ØªÙ‚Ø§Ù„ Ø£Ù‚Ù„ Ù…Ù† 50 Ù…Ù„Ù„ÙŠ Ø«Ø§Ù†ÙŠØ©
          </p>
        </div>
        <div class="glass-card p-8">
          <div class="w-16 h-16 rounded-full bg-[#8E2DE2] flex items-center justify-center mb-6">
            <i class="fas fa-shield-alt text-2xl"></i>
          </div>
          <h3 class="text-xl font-bold mb-3">Ø£Ù…Ø§Ù† Ù…ØªÙ‚Ø¯Ù…</h3>
          <p class="text-gray-300">
            Ø£Ù†Ø¸Ù…Ø© Ø­Ù…Ø§ÙŠØ© Ù…ØªØ¹Ø¯Ø¯Ø© Ø§Ù„Ø·Ø¨Ù‚Ø§Øª ØªØ´Ù…Ù„ ØªØ´ÙÙŠØ± Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª ÙˆØ§Ù„Ù…ØµØ§Ø¯Ù‚Ø© Ù…ØªØ¹Ø¯Ø¯Ø© Ø§Ù„Ø¹ÙˆØ§Ù…Ù„
          </p>
        </div>
        <div class="glass-card p-8">
          <div class="w-16 h-16 rounded-full bg-[#00CDAC] flex items-center justify-center mb-6">
            <i class="fas fa-sync-alt text-2xl"></i>
          </div>
          <h3 class="text-xl font-bold mb-3">ØªØ­Ø¯ÙŠØ«Ø§Øª Ù…Ø³ØªÙ…Ø±Ø©</h3>
          <p class="text-gray-300">
            ØªØ­Ø³ÙŠÙ†Ø§Øª ÙˆØªØ­Ø¯ÙŠØ«Ø§Øª Ù…Ø³ØªÙ…Ø±Ø© ØªØ¶Ù…Ù† Ù„Ùƒ Ø§Ù„Ø­ØµÙˆÙ„ Ø¹Ù„Ù‰ Ø£ÙØ¶Ù„ ØªØ¬Ø±Ø¨Ø© ÙˆØ£Ø­Ø¯Ø« Ø§Ù„Ù…ÙŠØ²Ø§Øª
          </p>
        </div>
      </div>
    </div>
  </section>

  <!-- Authentication Modal -->
  <div id="auth-modal" class="fixed inset-0 bg-black/80 z-50 hidden items-center justify-center p-4 flex">
    <div class="auth-container">
      <div class="flex justify-between items-center mb-6">
        <h2 class="text-2xl font-bold gradient-text">Ù…Ø±Ø­Ø¨Ù‹Ø§ Ø¨Ùƒ ÙÙŠ TARBOO</h2>
        <button id="close-auth" class="text-2xl hover:text-red-400 transition">&times;</button>
      </div>
      <div class="auth-tabs">
        <div class="auth-tab active" data-tab="login">ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„</div>
        <div class="auth-tab" data-tab="register">Ø¥Ù†Ø´Ø§Ø¡ Ø­Ø³Ø§Ø¨</div>
      </div>
      <form id="login-form" class="space-y-4">
        <div>
          <label class="block mb-2 text-gray-300">Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ</label>
          <input type="email" required class="form-input" placeholder="example@domain.com">
        </div>
        <div>
          <label class="block mb-2 text-gray-300">ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±</label>
          <input type="password" required class="form-input" placeholder="â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢">
        </div>
        <button type="submit" class="btn-primary w-full py-3 mt-4">
          <i class="fas fa-sign-in-alt mr-2"></i>Ø¯Ø®ÙˆÙ„
        </button>
      </form>
      <form id="register-form" class="space-y-4 hidden">
        <div>
          <label class="block mb-2 text-gray-300">Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ</label>
          <input type="email" required class="form-input" placeholder="example@domain.com">
        </div>
        <div>
          <label class="block mb-2 text-gray-300">ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±</label>
          <input type="password" required class="form-input" placeholder="â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢">
        </div>
        <div>
          <label class="block mb-2 text-gray-300">ØªØ£ÙƒÙŠØ¯ ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±</label>
          <input type="password" required class="form-input" placeholder="â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢">
        </div>
        <button type="submit" class="btn-primary w-full py-3 mt-4">
          <i class="fas fa-user-plus mr-2"></i>Ø¥Ù†Ø´Ø§Ø¡ Ø­Ø³Ø§Ø¨
        </button>
      </form>
      <!-- Ø£Ø²Ø±Ø§Ø± ØªØ³Ø¬ÙŠÙ„ Google/GitHub -->
      <div class="flex flex-col space-y-2 mt-4">
        <button type="button" class="btn-primary w-full py-3" id="google-sign">
          <i class="fab fa-google mr-2"></i>Ø§Ù„Ø¯Ø®ÙˆÙ„ Ø¨ÙˆØ§Ø³Ø·Ø© Google
        </button>
        <button type="button" class="btn-primary w-full py-3" id="github-sign" style="background:linear-gradient(90deg,#24292e,#6e5494)">
          <i class="fab fa-github mr-2"></i>Ø§Ù„Ø¯Ø®ÙˆÙ„ Ø¨ÙˆØ§Ø³Ø·Ø© GitHub
        </button>
      </div>
      <div id="auth-message" class="mt-6 text-center"></div>
    </div>
  </div>

  <!-- Footer ... Ø£Ø¨Ù‚ÙŠÙ‡ ÙƒÙ…Ø§ ÙÙŠ ÙƒÙˆØ¯Ùƒ Ø§Ù„Ø³Ø§Ø¨Ù‚ ... -->

  <!-- Ø³ÙƒØ±Ø¨ØªØ§Øª Ø§Ù„ØµÙØ­Ø© -->
  <script>
    // Splash
    function enterSite() {
      const splash = document.getElementById("splash");
      gsap.to(splash, { opacity: 0, duration: 1, onComplete: () => { splash.style.display = "none"; } });
    }
    // Tabs
    document.querySelectorAll('.auth-tab').forEach(tab=>{
      tab.onclick = function(){
        document.querySelectorAll('.auth-tab').forEach(t=>t.classList.remove('active'));
        this.classList.add('active');
        document.getElementById('login-form').classList.toggle('hidden',this.dataset.tab!=='login');
        document.getElementById('register-form').classList.toggle('hidden',this.dataset.tab!=='register');
        document.getElementById('auth-message').innerHTML = '';
      }
    });
    document.getElementById('auth-btn').onclick = ()=>{
      document.getElementById('auth-modal').classList.remove('hidden');
    };
    document.getElementById('close-auth').onclick = ()=>{
      document.getElementById('auth-modal').classList.add('hidden');
      document.getElementById('auth-message').innerHTML = '';
    };
    document.getElementById('auth-modal').addEventListener('click',function(e){
      if(e.target === this) this.classList.add('hidden');
    });
  </script>

  <!-- Firebase Ø³ÙƒØ±Ø¨Øª Ø§Ù„ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø­Ù‚ÙŠÙ‚ÙŠ -->
  <script type="module">
    import {
      auth,
      db,
      signInWithPopup,
      signInWithEmailAndPassword,
      createUserWithEmailAndPassword,
      GoogleAuthProvider,
      GithubAuthProvider,
      setDoc,
      doc
    } from './firebase-config.js';

    const loginForm = document.getElementById('login-form');
    const registerForm = document.getElementById('register-form');
    const authMessage = document.getElementById('auth-message');

    loginForm.onsubmit = async (e) => {
      e.preventDefault();
      authMessage.innerHTML = "Ø¬Ø§Ø±Ù Ø§Ù„ØªØ­Ù‚Ù‚...";
      const email = loginForm[0].value, password = loginForm[1].value;
      try {
        await signInWithEmailAndPassword(auth, email, password);
        authMessage.innerHTML = '<span class="text-green-400">ØªÙ… ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„ Ø¨Ù†Ø¬Ø§Ø­!</span>';
        setTimeout(() => document.getElementById('auth-modal').classList.add('hidden'), 1000);
      } catch (err) {
        authMessage.innerHTML = `<span class="text-red-400">${firebaseErrorMsg(err.code)}</span>`;
      }
    };

    registerForm.onsubmit = async (e) => {
      e.preventDefault();
      const email = registerForm[0].value, password = registerForm[1].value, confirm = registerForm[2].value;
      if(password !== confirm){
        authMessage.innerHTML = '<span class="text-red-400">ÙƒÙ„Ù…Ø§Øª Ø§Ù„Ù…Ø±ÙˆØ± ØºÙŠØ± Ù…ØªØ·Ø§Ø¨Ù‚Ø©</span>';
        return;
      }
      authMessage.innerHTML = "Ø¬Ø§Ø±Ù Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ø­Ø³Ø§Ø¨...";
      try {
        const userCred = await createUserWithEmailAndPassword(auth, email, password);
        await setDoc(doc(db, "users", userCred.user.uid), {
          email: userCred.user.email,
          createdAt: new Date().toISOString(),
          provider: "email"
        });
        authMessage.innerHTML = '<span class="text-green-400">ØªÙ… Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ø­Ø³Ø§Ø¨ Ø¨Ù†Ø¬Ø§Ø­!</span>';
        setTimeout(() => document.getElementById('auth-modal').classList.add('hidden'), 1000);
      } catch (err) {
        authMessage.innerHTML = `<span class="text-red-400">${firebaseErrorMsg(err.code)}</span>`;
      }
    };

    document.getElementById('google-sign').onclick = async () => {
      const provider = new GoogleAuthProvider();
      try {
        const result = await signInWithPopup(auth, provider);
        await setDoc(doc(db, "users", result.user.uid), {
          email: result.user.email,
          displayName: result.user.displayName,
          provider: "google"
        }, { merge: true });
        authMessage.innerHTML = '<span class="text-green-400">ØªÙ… Ø§Ù„Ø¯Ø®ÙˆÙ„ Ø¹Ø¨Ø± Google!</span>';
        setTimeout(() => document.getElementById('auth-modal').classList.add('hidden'), 1000);
      } catch (err) {
        authMessage.innerHTML = `<span class="text-red-400">${firebaseErrorMsg(err.code)}</span>`;
      }
    };

    document.getElementById('github-sign').onclick = async () => {
      const provider = new GithubAuthProvider();
      try {
        const result = await signInWithPopup(auth, provider);
        await setDoc(doc(db, "users", result.user.uid), {
          email: result.user.email,
          displayName: result.user.displayName,
          provider: "github"
        }, { merge: true });
        authMessage.innerHTML = '<span class="text-green-400">ØªÙ… Ø§Ù„Ø¯Ø®ÙˆÙ„ Ø¹Ø¨Ø± GitHub!</span>';
        setTimeout(() => document.getElementById('auth-modal').classList.add('hidden'), 1000);
      } catch (err) {
        authMessage.innerHTML = `<span class="text-red-400">${firebaseErrorMsg(err.code)}</span>`;
      }
    };

    function firebaseErrorMsg(code) {
      const errors = {
        "auth/email-already-in-use": "Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ Ù…Ø³ØªØ®Ø¯Ù… Ø¨Ø§Ù„ÙØ¹Ù„",
        "auth/invalid-email": "Ø¨Ø±ÙŠØ¯ Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ ØºÙŠØ± ØµØ­ÙŠØ­",
        "auth/user-not-found": "Ø§Ù„Ø­Ø³Ø§Ø¨ ØºÙŠØ± Ù…ÙˆØ¬ÙˆØ¯",
        "auth/wrong-password": "ÙƒÙ„Ù…Ø© Ù…Ø±ÙˆØ± ØºÙŠØ± ØµØ­ÙŠØ­Ø©",
        "auth/weak-password": "ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ± Ø¶Ø¹ÙŠÙØ© (6 Ø£Ø­Ø±Ù Ø¹Ù„Ù‰ Ø§Ù„Ø£Ù‚Ù„)",
        "auth/popup-closed-by-user": "ØªÙ… Ø¥ØºÙ„Ø§Ù‚ Ø§Ù„Ù†Ø§ÙØ°Ø© Ø¨Ø¯ÙˆÙ† ØªØ³Ø¬ÙŠÙ„ Ø¯Ø®ÙˆÙ„"
      };
      return errors[code] || "Ø­Ø¯Ø« Ø®Ø·Ø£ ØºÙŠØ± Ù…ØªÙˆÙ‚Ø¹ (" + code + ")";
    }
  </script>
</body>
</html>
